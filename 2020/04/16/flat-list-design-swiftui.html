<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Flat List Design in SwiftUI</title>
    <meta name="description"
        content="">
    <link rel="canonical" href="https://mattrighetti.github.io/2020/04/16/flat-list-design-swiftui.html">
    <link rel="alternate" type="application/rss+xml" title="mattrighetti"
        href="https://mattrighetti.github.io/feed.xml">

    <link rel="stylesheet" href=" /css/font.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href=" /css/style.css">
    <link rel="stylesheet" href=" /css/code.css">
</head>

<body class="mx-auto max-width">
    <header class="mx-auto site-header">
        <nav>
            <a class="-title" href="/">mattrighetti</a>
            
            
            
            
            
            
            
            <a href="/about.html">About</a>
            
            
            
            
            
            
            
            
            
            <a href="/projects.html">Projects</a>
            
            
            
            
            
            <a href="/resume.html">Resume</a>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </nav>
    </header>

    <main>
        <article>
  <h1>Flat List Design in SwiftUI</h1>
  <div class="post-meta sect1">Apr 16, 2020</div>
  <div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I’m going to explain the little steps that are needed to achieve a good looking flat design in an iOS application that displays a list. Here’s the example I’m going to build.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://miro.medium.com/max/1400/1*v1YvTDvRHNK36evNP_WwNg.png" alt="1*v1YvTDvRHNK36evNP WwNg" width="300">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-your-lists-background-and-hiding-its-separators">Changing Your List’s Background and Hiding Its Separators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first thing we need to do is change the list’s background and hide its separators.</p>
</div>
<div class="paragraph">
<p>Since List makes use of the old <code>UITableView</code> from <code>UIKit</code>, we just need to change a few parameters when the SwiftUI <code>View</code> is going to be initialised.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="swift"><span class="kd">extension</span> <span class="kt">UIColor</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">flatDarkBackground</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">36</span><span class="p">)</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">flatDarkCardBackground</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">46</span><span class="p">)</span>

    <span class="kd">convenience</span> <span class="nf">init</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">a</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="n">red</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="n">green</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">CGFloat</span><span class="p">(</span><span class="n">blue</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">,</span> <span class="nv">alpha</span><span class="p">:</span> <span class="n">a</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">Color</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">decimalRed</span> <span class="nv">red</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">red</span><span class="p">:</span> <span class="n">red</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="n">green</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="n">blue</span> <span class="o">/</span> <span class="mi">255</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">flatDarkBackground</span><span class="p">:</span> <span class="kt">Color</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">decimalRed</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">36</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">flatDarkCardBackground</span><span class="p">:</span> <span class="kt">Color</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Color</span><span class="p">(</span><span class="nv">decimalRed</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span> <span class="nv">green</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span> <span class="nv">blue</span><span class="p">:</span> <span class="mi">46</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When that’s done, we’re going to see a list with our predefined background color. The separators are now gone, but the row itself will display in black or white, depending on the <code>colorScheme</code> of the application. To make it the same color as the background, we just need to add this property to the row <code>.listRowBackground(Color.flatDarkBackground)</code>, and voilà.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="row-card-decomposition">Row-Card Decomposition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I’ve created this small infographic to give you a better idea of how the card itself can be created in SwiftUI.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="https://miro.medium.com/max/1400/1*WRuNfOUh8cK3CzNxQyf--Q.jpeg" alt="1*WRuNfOUh8cK3CzNxQyf  Q">
</div>
</div>
<div class="paragraph">
<p>As you can see we can divide the row card into four different components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ZStack</code> to encapsulate the kilometers indication</p>
</li>
<li>
<p><code>VStack</code> to encapsulate the row card info</p>
</li>
<li>
<p><code>HStack</code> to lay out the two components above</p>
</li>
<li>
<p><code>HStack</code> to lay out the caption pills in the row card’s info body</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-code">The code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let’s go through the implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="swift"><span class="kd">struct</span> <span class="kt">StoreRow</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">address</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">city</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">categories</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
    <span class="k">var</span> <span class="nv">kilometres</span><span class="p">:</span> <span class="kt">Double</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">ZStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">leading</span><span class="p">)</span> <span class="p">{</span>

            <span class="kt">Color</span><span class="o">.</span><span class="n">flatDarkCardBackground</span>
            <span class="kt">HStack</span> <span class="p">{</span>
                <span class="kt">ZStack</span> <span class="p">{</span>
                    <span class="kt">Circle</span><span class="p">()</span>
                        <span class="o">.</span><span class="nf">fill</span><span class="p">(</span>
                            <span class="kt">LinearGradient</span><span class="p">(</span>
                                <span class="nv">gradient</span><span class="p">:</span> <span class="kt">Gradient</span><span class="p">(</span><span class="nv">colors</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="n">lightRed</span><span class="p">,</span> <span class="o">.</span><span class="n">darkRed</span><span class="p">]),</span>
                                <span class="nv">startPoint</span><span class="p">:</span> <span class="o">.</span><span class="n">topLeading</span><span class="p">,</span>
                                <span class="nv">endPoint</span><span class="p">:</span> <span class="o">.</span><span class="n">bottomTrailing</span>
                            <span class="p">)</span>
                        <span class="p">)</span>

                    <span class="kt">VStack</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">kilometres</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="nf">system</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">bold</span><span class="p">))</span>
                            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">white</span><span class="p">)</span>

                        <span class="kt">Text</span><span class="p">(</span><span class="s">"km"</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">caption</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">white</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span> <span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span>

                <span class="kt">VStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">leading</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">headline</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">fontWeight</span><span class="p">(</span><span class="o">.</span><span class="n">bold</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">lineLimit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

                    <span class="kt">Text</span><span class="p">(</span><span class="n">address</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

                    <span class="kt">HStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">center</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="s">"mappin"</span><span class="p">)</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>
                    <span class="p">}</span>
                    <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

                    <span class="kt">HStack</span> <span class="p">{</span>
                        <span class="kt">ForEach</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">category</span> <span class="k">in</span>
                            <span class="kt">CategoryPill</span><span class="p">(</span><span class="nv">categoryName</span><span class="p">:</span> <span class="n">category</span><span class="p">)</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                <span class="p">}</span>
                <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="o">.</span><span class="n">horizontal</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="o">.</span><span class="nf">clipShape</span><span class="p">(</span><span class="kt">RoundedRectangle</span><span class="p">(</span><span class="nv">cornerRadius</span><span class="p">:</span> <span class="mi">15</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first thing we’re going to declare is the info we’re going to display on the card itself — this way we can later pass these variables dynamically from its parent view.
To give the row card a lighter background, we declare an outer <code>ZStack</code> that will contain the <code>Color.flatDarkCardBacground</code> and the <code>HStack</code> that contains every row-card component.</p>
</div>
<div class="paragraph">
<p>Next, we implement a <code>ZStack</code> that’ll generate the red circle with the kilometers indication. This will contain a circle shape filled with a linear gradient to give it a nice touch. On top of that, there’s going to be some simple text with the kilometer info.</p>
</div>
<div class="paragraph">
<p>Moving onto the row-card body, we embed the info in a VStack. The first two components are simple texts with different font sizes. The third element is an <code>HStack</code> used to display the icon image next to the text. The last element is a simple <code>HStack</code> that’ll render the green pills with a dynamic ForEach element given an array of strings.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: It’s always a good practice to separate these components as much as possible to make them easily reusable and flexible.</p>
</div>
<div class="paragraph">
<p>The <code>CategoryPill</code> view looks as simple as this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="swift"><span class="kd">struct</span> <span class="kt">CategoryPill</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">categoryName</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">fontSize</span><span class="p">:</span> <span class="kt">CGFloat</span> <span class="o">=</span> <span class="mf">12.0</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">ZStack</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">categoryName</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="nf">system</span><span class="p">(</span><span class="nv">size</span><span class="p">:</span> <span class="n">fontSize</span><span class="p">,</span> <span class="nv">weight</span><span class="p">:</span> <span class="o">.</span><span class="n">regular</span><span class="p">))</span>
                <span class="o">.</span><span class="nf">lineLimit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="o">.</span><span class="n">white</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">background</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">green</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">cornerRadius</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you could have imagined, we’re dealing with a simple text element with a background color and a corner radius.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="final-result">Final result</h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://miro.medium.com/max/1400/1*sb3R3bvEAp_9-6AAne5COw.png" alt="1*sb3R3bvEAp 9 6AAne5COw" width="300">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I hope you enjoyed this tutorial and learned how simple it can be to design great UIs with the help of a declarative language like SwiftUI. We’re all looking forward to seeing how much better it can get with version 2.0, which is coming at WWDC20.</p>
</div>
<div class="paragraph">
<p>See you in the next article, and thank you for stopping by!</p>
</div>
</div>
</div>
</article>
<script>
    function renderCodeTags() {
        const collection = document.getElementsByClassName("rouge highlight");

        for (let i = 0; i < collection.length; i++) {
        let cNode = collection[i].firstChild;
        let lang = cNode.getAttribute("data-lang");
        
        let newNode = document.createElement("div");
        newNode.className = "lang-tag";
        newNode.innerHTML += lang;
        
        collection[i].insertBefore(newNode, cNode);
        }
    }

    renderCodeTags()
</script>
    </main>

    <footer class="site-footer">
        <p>
            <a href=" /feed.xml">
                <i class="fa fa-rss"></i> rss
            </a>

            <a href="https://github.com/mattrighetti">
                <i class="fa fa-github"></i> mattrighetti
            </a>
        </p>
    </footer>

</body>

</html>